<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <title>Carb Guide</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons (Optional for other social links) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container my-4">
    <h1 class="text-center">Carb Guide</h1>

    <!-- (1) Search and Category Button in a Row -->
    <div class="mb-4 position-relative">
        <div class="row g-3">
            <!-- Search Input -->
            <div class="col-md-8">
                <label for="foodSearch" class="form-label">Vyhľadajte jedlo:</label>
                <input
                        id="foodSearch"
                        class="form-control"
                        placeholder="Začnite písať názov jedla (napr. Ryža)"
                        oninput="searchFood()"
                        autocomplete="off"
                />
                <!-- Suggestion box (dynamic) -->
                <div id="suggestionBox" class="list-group position-absolute w-100"></div>
            </div>
            <!-- Category Button -->
            <div class="col-md-4 d-flex align-items-end">
                <button id="showCategoryBtn" class="btn btn-secondary w-100" onclick="toggleCategorySelectors()">Vybrať podľa kategórie</button>
            </div>
        </div>
    </div>

    <!-- (2) Category and Item Selectors - hidden initially -->
    <div id="categorySelectors" class="selector-group fade-in d-none">
        <div class="row g-3">
            <!-- Category Selector -->
            <div class="col-md-6">
                <label for="categorySelect" class="form-label">Vyberte kategóriu:</label>
                <select id="categorySelect" class="form-select" onchange="populateItems()">
                    <option value="">-- Vyberte kategóriu --</option>
                </select>
            </div>
            <!-- Item Selector -->
            <div class="col-md-6">
                <label for="itemSelect" class="form-label">Vyberte položku:</label>
                <select id="itemSelect" class="form-select" onchange="selectItemFromDropdown()">
                    <option value="">-- Vyberte položku --</option>
                </select>
            </div>
        </div>
    </div>

    <!-- (3) Single card with “currency exchange” style inputs -->
    <div class="card mt-4">
        <div class="card-body">
            <!-- a) Obsah sacharidov na 100 g + label for selected food -->
            <div class="mb-3">
                <label for="carbPer100g" class="form-label">Obsah sacharidov na 100 g potraviny:</label>
                <input
                        type="number"
                        id="carbPer100g"
                        class="form-control"
                        oninput="handleCarbPer100gChange()"
                        min="0"
                        step="0.01"
                />
            </div>

            <!-- b) Group the next two fields visually -->
            <div class="connected-fields p-3 bg-light border rounded">
                <!-- Počet sacharidových jednotiek -->
                <div class="mb-3">
                    <label for="carbUnits" class="form-label">Počet sacharidových jednotiek:</label>
                    <input
                            type="number"
                            id="carbUnits"
                            class="form-control"
                            oninput="updateWeightFromCarbUnits()"
                            min="0"
                    />
                </div>

                <!-- Hmotnosť jedla -->
                <div class="mb-3">
                    <label for="foodWeight" class="form-label">Hmotnosť jedla (v gramoch):</label>
                    <input
                            type="number"
                            id="foodWeight"
                            class="form-control"
                            oninput="updateCarbUnitsFromWeight()"
                            min="0"
                    />
                </div>
            </div>

            <!-- Optional text output -->
            <p id="exchangeResult" class="result mt-3"></p>
        </div>
    </div>

    <!-- (4) Advanced Settings Button -->
    <div class="text-center mt-4">
        <button class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#advancedSettingsModal">Pokročilé nastavenia</button>
    </div>

    <!-- (5) Display Carb Unit Size if changed from default -->
    <div id="carbUnitDisplay" class="text-center mt-3 d-none">
        <strong>Aktuálna veľkosť sacharidovej jednotky:</strong> <span id="currentCarbUnit">10</span> g
    </div>

</div>
<div id="last-div"></div>

<!-- Advanced Settings Modal -->
<div class="modal fade" id="advancedSettingsModal" tabindex="-1" aria-labelledby="advancedSettingsModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <form id="advancedSettingsForm">
                <div class="modal-header">
                    <h5 class="modal-title" id="advancedSettingsModalLabel">Pokročilé nastavenia</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Zatvoriť"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="carbUnitSize" class="form-label">Veľkosť sacharidovej jednotky (g):</label>
                        <input
                                type="number"
                                id="carbUnitSize"
                                class="form-control"
                                min="1"
                                required
                        />
                        <div class="form-text">Zadajte počet gramov sacharidov, ktoré predstavujú jednu jednotku.</div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Zatvoriť</button>
                    <button type="submit" class="btn btn-primary">Uložiť</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Footer -->
<footer class="footer bg-light text-center text-lg-start mt-5">
    <!-- Use container-fluid to span full width -->
    <div class="container-fluid p-4">
        <div class="row justify-content-center">
            <!-- Patreon Link with Custom SVG Logo -->
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0 text-center">
                <a href="https://www.patreon.com/carbguide" target="_blank" class="d-flex align-items-center justify-content-center mb-2">
                    <!-- Custom Patreon SVG Logo -->
                    <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 245.53 268.91" class="me-2 patreon-logo" role="img" aria-labelledby="patreonTitle">
                        <title id="patreonTitle">Patreon Logo</title>
                        <path d="M506.76,330.33c0-34.34-26.79-62.48-58.16-72.63-39-12.61-90.35-10.78-127.55,6.77-45.09,21.28-59.26,67.89-59.78,114.37-.43,38.22,3.38,138.88,60.16,139.6,42.19.54,48.47-53.83,68-80,13.89-18.63,31.77-23.89,53.78-29.34C481,399.74,506.82,369.88,506.76,330.33Z" transform="translate(-261.24 -249.55)"/>
                    </svg>
                    Patreon
                </a>
            </div>
            <!-- LinkedIn Link -->
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0 text-center">
                <a href="https://www.linkedin.com/" target="_blank" class="d-flex align-items-center justify-content-center mb-2">
                    <i class="bi bi-linkedin me-2"></i> LinkedIn
                </a>
            </div>
            <!-- YouTube Link -->
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0 text-center">
                <a href="https://www.youtube.com/@carbguide" target="_blank" class="d-flex align-items-center justify-content-center mb-2">
                    <i class="bi bi-youtube me-2"></i> YouTube
                </a>
            </div>
            <!-- README Link -->
            <div class="col-lg-3 col-md-6 mb-4 mb-md-0 text-center">
                <a href="https://github.com/CarbGuide/carbguide.github.io/blob/main/README.md" class="d-flex align-items-center justify-content-center mb-2">
                    <i class="bi bi-file-earmark-text me-2"></i> Dokumentácia
                </a>
            </div>
        </div>
    </div>
</footer>

<!-- Bootstrap 5 JS Bundle (Includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- Custom JS -->
<script src="script.js"></script>
</body>
</html>
